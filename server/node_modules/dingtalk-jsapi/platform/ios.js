"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.platformConfig=void 0;var ddSdk_1=require("../lib/ddSdk"),env_1=require("../lib/env"),sdk_1=require("../lib/sdk"),eapp_1=require("../lib/bridge/eapp"),webviewInMiniApp_1=require("../lib/bridge/webviewInMiniApp"),h5Ios_1=require("../lib/bridge/h5Ios"),weex_1=require("../lib/bridge/weex"),h5Event_1=require("../lib/bridge/h5Event"),apiMapping_1=require("../constant/apiMapping"),weexEvent_1=require("../lib/bridge/weexEvent");exports.platformConfig={platform:env_1.ENV_ENUM.ios,bridgeInit:function(){var e=env_1.getENV();return e.appType===sdk_1.APP_TYPE.MINI_APP?Promise.resolve(eapp_1.default):e.appType===sdk_1.APP_TYPE.WEBVIEW_IN_MINIAPP?Promise.resolve(webviewInMiniApp_1.default):e.appType===sdk_1.APP_TYPE.WEEX?weex_1.iosWeexBridge():h5Ios_1.h5IosBridgeInit().then(function(){return h5Ios_1.default})},authMethod:"runtime.permission.requestJsApis",authParamsDeal:function(e){var i=Object.assign({},e);return e.jsApiList&&(i.jsApiList=e.jsApiList.map(function(e){return apiMapping_1.default[e]?apiMapping_1.default[e]:e})),i},event:{on:function(e,i){var r=env_1.getENV();switch(r.appType){case sdk_1.APP_TYPE.WEB:case sdk_1.APP_TYPE.WEBVIEW_IN_MINIAPP:h5Event_1.on(e,i);break;case sdk_1.APP_TYPE.WEEX:weexEvent_1.on(e,i);break;default:throw new Error("Not support global event in the platfrom: "+r.appType)}},off:function(e,i){var r=env_1.getENV();switch(r.appType){case sdk_1.APP_TYPE.WEB:case sdk_1.APP_TYPE.WEBVIEW_IN_MINIAPP:h5Event_1.off(e,i);break;case sdk_1.APP_TYPE.WEEX:weexEvent_1.off(e,i);break;default:throw new Error("Not support global event in the platfrom: "+r.appType)}}}},ddSdk_1.ddSdk.setPlatform(exports.platformConfig);